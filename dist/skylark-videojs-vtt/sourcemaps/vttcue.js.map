{"version":3,"sources":["vttcue.js"],"names":["define","WebVTT","autoKeyword","directionSetting","","lr","rl","alignSetting","start","center","end","left","right","auto","line-left","line-right","findAlignSetting","value","toLowerCase","VTTCue","startTime","endTime","text","this","hasBeenReset","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","Object","defineProperties","id","enumerable","get","set","pauseOnExit","TypeError","region","vertical","setting","findDirectionSetting","SyntaxError","snapToLines","line","lineAlign","console","warn","position","Error","positionAlign","size","align","displayState","undefined","prototype","getCueAsHTML","convertCueToDOMTree","window"],"mappings":"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","file":"../vttcue.js","sourcesContent":["define([\n  \"./vtt\"\n],function(WebVTT){\n  /**\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  var autoKeyword = \"auto\";\n  var directionSetting = {\n    \"\": 1,\n    \"lr\": 1,\n    \"rl\": 1\n  };\n  var alignSetting = {\n    \"start\": 1,\n    \"center\": 1,\n    \"end\": 1,\n    \"left\": 1,\n    \"right\": 1,\n    \"auto\": 1,\n    \"line-left\": 1,\n    \"line-right\": 1\n  };\n\n  function findDirectionSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    var dir = directionSetting[value.toLowerCase()];\n    return dir ? value.toLowerCase() : false;\n  }\n\n  function findAlignSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n    var align = alignSetting[value.toLowerCase()];\n    return align ? value.toLowerCase() : false;\n  }\n\n  function VTTCue(startTime, endTime, text) {\n    /**\n     * Shim implementation specific properties. These properties are not in\n     * the spec.\n     */\n\n    // Lets us know when the VTTCue's data has changed in such a way that we need\n    // to recompute its display state. This lets us compute its display state\n    // lazily.\n    this.hasBeenReset = false;\n\n    /**\n     * VTTCue and TextTrackCue properties\n     * http://dev.w3.org/html5/webvtt/#vttcue-interface\n     */\n\n    var _id = \"\";\n    var _pauseOnExit = false;\n    var _startTime = startTime;\n    var _endTime = endTime;\n    var _text = text;\n    var _region = null;\n    var _vertical = \"\";\n    var _snapToLines = true;\n    var _line = \"auto\";\n    var _lineAlign = \"start\";\n    var _position = \"auto\";\n    var _positionAlign = \"auto\";\n    var _size = 100;\n    var _align = \"center\";\n\n    Object.defineProperties(this, {\n      \"id\": {\n        enumerable: true,\n        get: function() {\n          return _id;\n        },\n        set: function(value) {\n          _id = \"\" + value;\n        }\n      },\n\n      \"pauseOnExit\": {\n        enumerable: true,\n        get: function() {\n          return _pauseOnExit;\n        },\n        set: function(value) {\n          _pauseOnExit = !!value;\n        }\n      },\n\n      \"startTime\": {\n        enumerable: true,\n        get: function() {\n          return _startTime;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Start time must be set to a number.\");\n          }\n          _startTime = value;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"endTime\": {\n        enumerable: true,\n        get: function() {\n          return _endTime;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"End time must be set to a number.\");\n          }\n          _endTime = value;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"text\": {\n        enumerable: true,\n        get: function() {\n          return _text;\n        },\n        set: function(value) {\n          _text = \"\" + value;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"region\": {\n        enumerable: true,\n        get: function() {\n          return _region;\n        },\n        set: function(value) {\n          _region = value;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"vertical\": {\n        enumerable: true,\n        get: function() {\n          return _vertical;\n        },\n        set: function(value) {\n          var setting = findDirectionSetting(value);\n          // Have to check for false because the setting an be an empty string.\n          if (setting === false) {\n            throw new SyntaxError(\"Vertical: an invalid or illegal direction string was specified.\");\n          }\n          _vertical = setting;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"snapToLines\": {\n        enumerable: true,\n        get: function() {\n          return _snapToLines;\n        },\n        set: function(value) {\n          _snapToLines = !!value;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"line\": {\n        enumerable: true,\n        get: function() {\n          return _line;\n        },\n        set: function(value) {\n          if (typeof value !== \"number\" && value !== autoKeyword) {\n            throw new SyntaxError(\"Line: an invalid number or illegal string was specified.\");\n          }\n          _line = value;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"lineAlign\": {\n        enumerable: true,\n        get: function() {\n          return _lineAlign;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            console.warn(\"lineAlign: an invalid or illegal string was specified.\");\n          } else {\n            _lineAlign = setting;\n            this.hasBeenReset = true;\n          }\n        }\n      },\n\n      \"position\": {\n        enumerable: true,\n        get: function() {\n          return _position;\n        },\n        set: function(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Position must be between 0 and 100.\");\n          }\n          _position = value;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"positionAlign\": {\n        enumerable: true,\n        get: function() {\n          return _positionAlign;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            console.warn(\"positionAlign: an invalid or illegal string was specified.\");\n          } else {\n            _positionAlign = setting;\n            this.hasBeenReset = true;\n          }\n        }\n      },\n\n      \"size\": {\n        enumerable: true,\n        get: function() {\n          return _size;\n        },\n        set: function(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Size must be between 0 and 100.\");\n          }\n          _size = value;\n          this.hasBeenReset = true;\n        }\n      },\n\n      \"align\": {\n        enumerable: true,\n        get: function() {\n          return _align;\n        },\n        set: function(value) {\n          var setting = findAlignSetting(value);\n          if (!setting) {\n            throw new SyntaxError(\"align: an invalid or illegal alignment string was specified.\");\n          }\n          _align = setting;\n          this.hasBeenReset = true;\n        }\n      }\n    });\n\n    /**\n     * Other <track> spec defined properties\n     */\n\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n    this.displayState = undefined;\n  }\n\n  /**\n   * VTTCue methods\n   */\n\n  VTTCue.prototype.getCueAsHTML = function() {\n    // Assume WebVTT.convertCueToDOMTree is on the global.\n    return WebVTT.convertCueToDOMTree(window, this.text);\n  };\n\n  return VTTCue;\n});\n"]}